
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MALLA CURRICULAR DE CONTABILIDAD Y FINANZAS ·₊̣̇.</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@600&family=Merriweather:ital@1&display=swap" rel="stylesheet">
  <style>
    body {
      background-color: #fadfdf;
      font-family: 'Inter', sans-serif;
      margin: 0;
      padding: 40px;
    }
    h1 {
      text-align: center;
      font-size: 30px;
      color: #c48691;
      font-family: 'Merriweather', serif;
      font-style: italic;
    }
    .ciclo {
      background-color: #575d7c;
      border: 3px solid #3a4062;
      border-radius: 10px;
      margin-bottom: 30px;
      padding: 15px;
    }
    .titulo-ciclo {
      font-size: 20px;
      font-weight: bold;
      color: white;
      margin-bottom: 10px;
    }
    .curso {
      background-color: #d9d9d9;
      color: black;
      padding: 8px 12px;
      border-radius: 6px;
      margin: 5px 0;
      cursor: pointer;
      transition: background-color 0.3s, text-decoration 0.3s;
      font-size: 14px;
    }
    .curso.aprobado {
      background-color: #8d92ac;
      text-decoration: line-through;
    }
    .curso.bloqueado {
      background-color: #fbf0d4;
      opacity: 0.6;
      cursor: not-allowed;
    }
  </style>
</head>
<body>
  <h1>MALLA CURRICULAR DE CONTABILIDAD Y FINANZAS ·₊̣̇.</h1>
  <div id="contenedor"></div>
  <script>
    const prerequisitos = {
      "Matemática Básica": ["Complementos de Matemática"],
      "Contabilidad Financiera 2": ["Contabilidad Financiera 1"],
      "Comunicación 2": ["Comunicación 1"],
      "Matemática Financiera": ["Matemática Básica"],
      "Informática para Negocios": ["Herramientas Informáticas"],
      "Contabilidad Financiera 3": ["Contabilidad Financiera 2"],
      "Probabilidad y Estadística": ["Matemática Básica"],
      "Comunicación 3": ["Comunicación 2"],
      "Información de Costos 1": ["Contabilidad Financiera 3"],
      "Informática Contable": ["Informática para Negocios"],
      "Empleabilidad": ["Desarrollo del Talento"],
      "Pre Beginner 2": ["Pre Beginner 1"],
      "Microeconomía para Administradores": ["Complementos de Matemática"],
      "Información Financiera 1": ["Contabilidad Financiera 3"],
      "Análisis y Evaluación Financiera": ["Información de Costos 1"],
      "Metodología de la Investigación": ["Metodología Universitaria"],
      "English for Business": ["Pre Beginner 2"],
      "Información de Costos 2": ["Información de Costos 1"],
      "Tributación 1": ["Derecho Empresarial y Laboral"],
      "Proyecto Social": ["Responsabilidad Social"],
      "Finanzas": ["Matemática Financiera"],
      "Información Financiera 2": ["Información Financiera 1"],
      "Tributación 2": ["Tributación 1"],
      "Planeamiento Financiero": ["Análisis y Evaluación Financiera"],
      "Gestión Estratégica": ["Análisis y Evaluación Financiera"],
      "Análisis de Inversión y Financiamiento": ["Finanzas"],
      "Auditoría Financiera 1": ["Información Financiera 2"],
      "Contabilidad de Instituciones Financieras": ["Planeamiento Financiero"],
      "Taller Tributario": ["Tributación 2"],
      "Proyectos de Inversión": ["Gestión Estratégica"],
      "Seminario de Costos para la Gestión": ["Planeamiento Financiero"],
      "Auditoría Financiera 2": ["Auditoría Financiera 1"],
      "Prácticas Preprofesionales": ["Empleabilidad"],
      "Tesis": ["Metodología de la Investigación"],
      "Contabilidad Gubernamental": ["Taller Tributario"],
      "Electivo 1": ["150 CRÉDITOS"],
      "Contabilidad de Gerencia": ["Contabilidad Gubernamental"],
      "Trabajo de Investigación": ["Tesis"],
      "Electivo 2": ["Electivo 1"]
    };

    const cursos = [
      { ciclo: 'PRIMER CICLO', materias: ['Desarrollo del Talento', 'Complementos de Matemática', 'Contabilidad Financiera 1', 'Derecho Empresarial y Laboral', 'Comunicación 1', 'Ciudadanía Global'] },
      { ciclo: 'SEGUNDO CICLO', materias: ['Matemática Básica', 'Contabilidad Financiera 2', 'Metodología Universitaria', 'Responsabilidad Social', 'Herramientas Informáticas', 'Comunicación 2'] },
      { ciclo: 'TERCER CICLO', materias: ['Matemática Financiera', 'Informática para Negocios', 'Contabilidad Financiera 3', 'Probabilidad y Estadística', 'Pre Beginner 1', 'Comunicación 3'] },
      { ciclo: 'CUARTO CICLO', materias: ['Información de Costos 1', 'Informática Contable', 'Empleabilidad', 'Pre Beginner 2', 'Microeconomía para Administradores', 'Información Financiera 1'] },
      { ciclo: 'QUINTO CICLO', materias: ['Análisis y Evaluación Financiera', 'Metodología de la Investigación', 'English for Business', 'Información de Costos 2', 'Tributación 1', 'Proyecto Social'] },
      { ciclo: 'SEXTO CICLO', materias: ['Finanzas', 'Información Financiera 2', 'Tributación 2', 'Planeamiento Financiero', 'Gestión Estratégica'] },
      { ciclo: 'SÉPTIMO CICLO', materias: ['Análisis de Inversión y Financiamiento', 'Auditoría Financiera 1', 'Contabilidad de Instituciones Financieras', 'Taller Tributario', 'Proyectos de Inversión'] },
      { ciclo: 'OCTAVO CICLO', materias: ['Seminario de Costos para la Gestión', 'Auditoría Financiera 2', 'Prácticas Preprofesionales'] },
      { ciclo: 'NOVENO CICLO', materias: ['Tesis', 'Contabilidad Gubernamental', 'Electivo 1'] },
      { ciclo: 'DÉCIMO CICLO', materias: ['Contabilidad de Gerencia', 'Trabajo de Investigación', 'Electivo 2'] }
    ];

    const contenedor = document.getElementById('contenedor');
    const estadoCursos = {};
    const cursosAprobados = new Set(JSON.parse(localStorage.getItem("cursosAprobados")) || []);

    cursos.forEach(bloque => {
      const div = document.createElement('div');
      div.classList.add('ciclo');

      const titulo = document.createElement('div');
      titulo.classList.add('titulo-ciclo');
      titulo.textContent = bloque.ciclo;
      div.appendChild(titulo);

      bloque.materias.forEach(nombre => {
        const curso = document.createElement('div');
        curso.classList.add('curso');
        curso.textContent = nombre;
        curso.dataset.nombre = nombre;

        if (cursosAprobados.has(nombre)) {
          curso.classList.add("aprobado");
        } else if (prerequisitos[nombre]) {
          curso.classList.add("bloqueado");
        }

        estadoCursos[nombre] = curso;
        div.appendChild(curso);
      });

      contenedor.appendChild(div);
    });

    function desbloquearCursos() {
      Object.entries(prerequisitos).forEach(([curso, prereqs]) => {
        const cursoElem = estadoCursos[curso];
        if (cursoElem && cursoElem.classList.contains('bloqueado')) {
          const todosAprobados = prereqs.every(pr => estadoCursos[pr]?.classList.contains('aprobado'));
          if (todosAprobados) {
            cursoElem.classList.remove('bloqueado');
            cursoElem.style.backgroundColor = "#d9d9d9";
            cursoElem.style.opacity = "1";
            cursoElem.style.cursor = "pointer";
          }
        }
      });
    }

    document.addEventListener("click", function (e) {
      if (e.target.classList.contains("curso")) {
        const nombre = e.target.dataset.nombre;
        const esBloqueado = e.target.classList.contains("bloqueado");
        if (esBloqueado) return;

        e.target.classList.toggle("aprobado");

        if (e.target.classList.contains("aprobado")) {
          cursosAprobados.add(nombre);
        } else {
          cursosAprobados.delete(nombre);
        }

        localStorage.setItem("cursosAprobados", JSON.stringify([...cursosAprobados]));
        desbloquearCursos();
      }
    });

    window.onload = () => desbloquearCursos();
  </script>
</body>
</html>
